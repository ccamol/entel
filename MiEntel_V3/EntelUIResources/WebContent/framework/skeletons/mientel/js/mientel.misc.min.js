/*
 * base.js
 * entel.menu.js
 * dashboard.js
 * jquery.i2bforms.js
 */


var tempTooltip;$(document).ready(function(){var a=Math.round(Math.random()*10000);if($.browser.mozilla&&parseInt($.browser.version)<=2){$(".btnAzulGrandeDesactivado, .btnVerde, .btnVerdeDelgado, .btnVerdeGrande, .btnAzul, .btnAzulDelgado, .btnAzulGrande").css("display","-moz-inline-box")}if($.browser.msie&&parseInt($.browser.version)<=6){$(".sel-estas-consultando").css("width","171px")}$(".txt-numero").inputBox();$(".txt-renumero").inputBox();$(".tipo-tarjeta").selectBox();$(".txt-numero").keypress(function(b){if(b.which!=8&&b.which!=0&&(b.which<48||b.which>57)){return false}});$(".txt-renumero").keypress(function(b){if(b.which!=8&&b.which!=0&&(b.which<48||b.which>57)){return false}});$("#encuesta_ocultar1").click(function(){$(".db_alerta_amarilla").fadeOut(350)});$("#encuesta_ocultar2").click(function(){$(".db_alerta_amarilla").fadeOut(350)});eventualizaTooltips();eventualizaTextoTooltips();$("body").append('<div style="display: none;" id="no-disponible">Pr??ximamente...</div>')});function eventualizaTooltips(){TOOLTIPS=$(".autoTooltip, .toolTip");if(TOOLTIPS.length>0){var a='<div id="tooltip1" class="tooltip1" style="top: 142px; left: 459px; display: none"><div class="flecha"><div class="texto">tooltip</div></div></div>';$("body").append(a);if($.browser.msie){$("#tooltip1").css("backgroundImage",$("#tooltip1").css("backgroundImage").replace(/\.png/i,".gif"));var b=$("#tooltip1 div.flecha:first");b.css("backgroundImage",b.css("backgroundImage").replace(/\.png/i,".gif"))}TOOLTIPS.each(function(){var c=$(this);c.removeClass("activo");c.attr("tooltip",c.attr("title")).removeAttr("title");var d=c.hasClass("toolTip");if(d){c.data("tooltipText",c.html()).html("&nbsp &nbsp &nbsp").addClass("ico_interrogacionNuevo").addClass("visible").css("display","inline-block")}if(c.hasClass("titleTT")){c.addClass("toolTip");c.data("tooltipText","<strong>"+c.attr("tooltip")+"</strong>")}});TOOLTIPS.click(function(){var d=$(this);var h=$("#tooltip1");var l=d.offset();var k=d.attr("tooltip");var i=d.hasClass("toolTip");var m=d.hasClass("titleTT");var c=d.attr("href");var j=(d.hasClass("activo"))&&h.is(":visible");if(j){var g=d.css("backgroundImage").replace("tooltips/ico_x.gif","icons/ico_interrogacion.gif");d.css("backgroundImage",g);var f=h.offset().top;h.animate({opacity:0,top:f+50+"px"},150);h.queue(function(){$(this).css("display","none").dequeue()});TOOLTIPS.removeClass("activo");tempTooltip=null}else{if(d.hasClass("ext")){h.addClass("extendido")}else{h.removeClass("extendido")}TOOLTIPS.each(function(){var n=$(this).css("backgroundImage").replace("tooltips/ico_x.gif","icons/ico_interrogacion.gif");$(this).css("backgroundImage",n)});var g=d.css("backgroundImage").replace("icons/ico_interrogacion.gif","tooltips/ico_x.gif");d.css("backgroundImage",g);if(i){k=d.data("tooltipText")}else{var e=d.attr("href");if(/^[#]{1,}(\s|[a-zA-Z])*/i.test(e)){k=$(e).html()}}TOOLTIPS.removeClass("activo");d.addClass("activo");tempTooltip=e;h.find("div.texto:first").html(k).end().css({top:l.top-h.height(),left:l.left-112,display:"block"});l.top-=(parseInt(h.height())+15);l.left-=112;if($.browser.msie&&$.browser.version<=5){h.css("opacity",1).css({top:l.top,left:l.left})}else{h.css({top:l.top-50});h.animate({top:l.top,opacity:1},100)}}return false})}}function eventualizaTextoTooltips(){if($(".autoTextoTooltip").length>0){var a="";a+='<div id="tooltip1" class="tooltip1" style="top: 142px; left: 459px; display: none">';a+='	<a href="#" class="tooltipCerrar" onclick="return cerrarTooltip()">cerrar</a>';a+='	<div class="flecha">';a+='		<div class="texto">tooltip</div>';a+="	</div>";a+="</div>";$("body").append(a);$(".autoTextoTooltip").each(function(){var b=$(this);b.removeClass("activo")});$(".autoTextoTooltip").click(function(){var e=$(this);var d=$("#tooltip1");var g=e.offset();var c=e.attr("href");var h=(e.hasClass("activo"))&&d.is(":visible");if(h){var b=d.offset().top;if($.browser.msie&&$.browser.version<=6){d.hide()}else{d.animate({opacity:0,top:b+50+"px"},150)}d.queue(function(){$(this).css("display","none").dequeue()});$(".autoTextoTooltip").removeClass("activo");tempTooltip=null}else{if(e.hasClass("ext")){d.addClass("extendido")}else{d.removeClass("extendido")}var f=e.attr("href");if(/^[#]{1,}(\s|[a-zA-Z])*/i.test(f)){text=$(f).html()}$(".autoTextoTooltip").removeClass("activo");e.addClass("activo");tempTooltip=f;d.find("div.texto:first").html(text).end().css({top:g.top-d.height(),left:(parseInt(g.left)-parseInt(d.width())/2+parseInt(e.width()/2))+"px",display:"block",zIndex:149,opacity:0});g.top-=(parseInt(d.height())+15);if($.browser.msie&&$.browser.version<=6){d.css("opacity",1).css({top:g.top,left:(parseInt(g.left)-parseInt(d.width())/2+parseInt(e.width()/2))+"px"})}else{d.css({top:g.top-50});d.animate({top:g.top,opacity:1},100)}}return false})}}function cerrarTooltip(){$(".tooltip1").hide();$(".autoTextoTooltip").removeClass("activo");return false}function createCookie(a,h,l){if(l){var d=new Date();d.setTime(d.getTime()+(l*24*60*60*1000));var b="; expires="+d.toGMTString()}else{var b=""}var f=document.cookie.split("cookie=").join("");if(!!f){var g=true;var c=[];var k=f.split("@@");for(var e in k){var j=k[e].split("##");if(j[0]==a){j[1]=h;g=false}c.push(j[0]+"##"+j[1])}if(g){c.push(a+"##"+h)}c=c.join("@@")}else{var c=a+"##"+h}document.cookie="cookie="+c+b+"; path=/"}function readCookie(d){var g="cookie=";var a=document.cookie.split(";");var f=null;if(a){for(var e=0;e<a.length;e++){var j=a[e];while(j.charAt(0)==" "){j=j.substring(1,j.length)}if(j.indexOf(g)==0){f=j.substring(g.length,j.length)}}if(f){var b=f.split("@@");for(var e in b){var h=b[e].split("##");if(h[0]==d){return h[1]}}}}return null}function eraseCookie(a){createCookie(a,"",-1)};$(document).ready(function(){$("#centro .db-paginador-seccion").click(function(){var c=$(this).parents(".db-tabla-cuerpo:first");var b=c.find("ul");var a=$(this).attr("href");var d=$(this).parents(".db-paginador:first").find(".db-paginador-seccion");for(i=0;i<b.length;i++){b.eq(i).hide();d.eq(i).removeClass("db-paginador-seccion-selecionado")}c.find(a).fadeIn(500);$(this).addClass("db-paginador-seccion-selecionado");return false});$("#centro .db-paginador-back").click(function(){var a=$(this).parent().find(".db-paginador-seccion-selecionado").prev();if(a.hasClass("db-paginador-seccion")){a.click()}else{$(this).parent().find("a.db-paginador-seccion:last").click()}return false});$("#centro .db-paginador-next").click(function(){var a=$(this).parent().find(".db-paginador-seccion-selecionado").next();if(a.hasClass("db-paginador-seccion")){a.click()}else{$(this).parent().find("a.db-paginador-seccion:first").click()}return false})});jQuery(document).ready(function(a){a("#menu_vertical").accordion({header:".stretch:not(.fijo)",active:".abierto:not(.fijo)",autoHeight:false,collapsible:true,changestart:function(){a("div.contenido_stretcher:not(.fijo) .submenu_cabecera").removeClass("seleccionado");a("div.contenido_stretcher:not(.fijo) .submenu_contenido").slideUp()}});a("div.contenido_stretcher:not(.fijo) .submenu_cabecera").click(function(){a("div.contenido_stretcher:not(.fijo) .submenu_cabecera").removeClass("seleccionado");var b=a(this).next();a("div.contenido_stretcher:not(.fijo) .submenu_contenido").not(b).slideUp();if(!b.is(":visible")){b.slideDown();a(this).addClass("seleccionado")}else{b.slideUp()}return false});a("div.fijo li.submenu_cabecera a").click(function(){return false})});$.fn.selectBox=function(options){return this.each(function(){var w=$(this).css("width");w=(/[0-9]*px/i.test(w))?parseInt(w):200;var opt={border:"none",background:"transparent",height:26,width:w,textAlign:"left"};if($(this).attr("opt")){$.extend(opt,eval("("+$(this).attr("opt")+")"))}var select=$(this).hide();var options=select[0].options;var input_s=$('<input readonly="readonly" type="text" />').css({border:opt.border,background:opt.background});var container=select.parent();var css_divs={"float":"left",backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)",backgroundRepeat:"no-repeat",width:4,height:opt.height};var css_divs_error={backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input_error.gif)"};var css_arrow={backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/img_select_arrow.gif)",width:18,height:opt.height};var css_arrow_error={backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/img_select_arrow_error.gif)"};var css_option={height:20,color:"#444",background:"#fff",cursor:"pointer",fontSize:"11px",fontFamily:"Arial",paddingLeft:10,paddingRight:10};var css_option_over={};$.extend(css_option_over,css_option);css_option_over.color="#fff";css_option_over.background="#555";var drop_down=function(){options=select[0].options;if(options.length>0){divl.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)");divc.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)");diva.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)");divr.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)");arrow.css("backgroundImage",css_arrow.backgroundImage);options_div.empty().show();if(options.length>6){options_div.css({overflowY:"scroll",overflowX:"hidden",height:css_option.height*6})}var table=$("<table></table>").appendTo(options_div).css("borderCollapse","collapse");$.each(options,function(i,val){var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").attr({align:"left",value:val.value}).html(val.text).appendTo(tr).css(css_option).bind("mouseover",function(){$(this).css(css_option_over)}).bind("mouseout",function(){$(this).css(css_option)}).bind("mousedown",function(){select.attr("value",$(this).attr("value"));input_s.val($(this).html());if(select.change){select.change()}})});$(document).bind("mousedown",function(e){if(!$(e.target).is(".options_div")){options_div.hide();input_s.focus();$(document).unbind("mousedown")}})}};var div=$("<div></div>").appendTo(container).css({zIndex:5000,"float":"left",position:"relative",height:css_divs.height,cursor:"pointer"}).bind("click",drop_down);var divl=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"0px 0px"});var divc=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:opt.width-css_arrow.width-(css_divs.width*2)});var diva=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:css_arrow.width});var divr=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"right 0px"});var arrow=$("<div></div>").appendTo(diva).css(css_arrow);var table=$("<table></table>").appendTo(divc).css({height:"100%",width:opt.width-css_arrow.width-(css_divs.width*2)});var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").appendTo(tr);input_s.appendTo(td).css({cursor:"pointer",textAlign:opt.textAlign,width:opt.width-css_arrow.width-(css_divs.width*2)}).bind("blur",function(){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);diva.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage);options_div.hide()});var css_options_div={position:"absolute",background:"#555",width:opt.width,top:25,left:0,border:"1px solid #999",overflowX:"hidden",zIndex:5001};var options_div=$("<div></div>").addClass("options_div").appendTo(div).css(css_options_div).hide();if(options.length>0){input_s.val(options[0].text);select.val(options[0].value)}var div_disabled=$("<div></div>").hide().appendTo(div).css({position:"absolute",top:0,left:0,width:($.browser.msie&&$.browser.version=="6.0")?opt.width+4:opt.width,height:opt.height,background:"#ccc",opacity:0.7});this.enable=function(){div_disabled.hide();div.bind("click",drop_down)};this.disable=function(){div_disabled.show().css("cursor","default");div.unbind("click",drop_down)};this.setValue=function(v){select.attr("value",v);input_s.val(select[0].options[select[0].selectedIndex].text)};this.enableError=function(){divl.css("backgroundImage",css_divs_error.backgroundImage);divc.css("backgroundImage",css_divs_error.backgroundImage);diva.css("backgroundImage",css_divs_error.backgroundImage);divr.css("backgroundImage",css_divs_error.backgroundImage);arrow.css("backgroundImage",css_arrow_error.backgroundImage)};this.disableError=function(){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);diva.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage);arrow.css("backgroundImage",css_arrow.backgroundImage)};if(select.attr("disabled")){this.disable()}})};$.fn.inputBox=function(){return this.each(function(){var w=$(this).css("width");w=(/[0-9]*px/i.test(w))?parseInt(w):225;var opt={border:"none",background:"transparent",height:26,width:w,textAlign:"left"};if($(this).attr("opt")){$.extend(opt,eval("("+$(this).attr("opt")+")"))}var input=$(this).css({border:opt.border,background:opt.background});var container=input.parent();var css_divs={"float":"left",backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_input.gif)",backgroundRepeat:"no-repeat",width:4,height:opt.height};var css_divs_error={backgroundImage:"url(../img/i2bforms/bg_input_error.gif)"};var div=$("<div></div>").appendTo(container).css({"float":"left",position:"relative",height:css_divs.height});var divl=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"0px 0px"});var divc=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:opt.width-(css_divs.width*2)});var divr=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"right 0px"});var table=$("<table></table>").appendTo(divc).css({height:"100%",width:opt.width-(css_divs.width*2)});var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").appendTo(tr);input.appendTo(td).css({textAlign:opt.textAlign,width:opt.width-(css_divs.width*2)}).bind("blur",function(){}).val(this.value);this.enableError=function(){divl.css("backgroundImage",css_divs_error.backgroundImage);divc.css("backgroundImage",css_divs_error.backgroundImage);divr.css("backgroundImage",css_divs_error.backgroundImage)};this.disableError=function(){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage)}})};function carga(){var a=document.getElementById("cuenta").value;if(a=="4"){document.getElementById("uno").style.display="block"}else{document.getElementById("uno").style.display="none"}}$.fn.selectBoxAmarillo=function(){return this.each(function(){var w=$(this).css("width");w=(/[0-9]*px/i.test(w))?parseInt(w):200;var opt={border:"none",background:"transparent",height:26,width:w,textAlign:"left"};if($(this).attr("opt")){$.extend(opt,eval("("+$(this).attr("opt")+")"))}var select=$(this).hide();var options=select[0].options;var input_s=$('<input readonly="readonly" type="text" />').css({border:opt.border,background:opt.background});var container=select.parent();var css_divs={"float":"left",backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)",backgroundRepeat:"no-repeat",width:4,height:opt.height};var css_arrow={backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellowArrow.gif)",width:18,height:opt.height};var css_option={height:20,color:"#444",background:"#fff",cursor:"pointer",fontSize:"11px",fontFamily:"Arial",paddingLeft:10,paddingRight:10};var css_option_over={};$.extend(css_option_over,css_option);css_option_over.color="#fff";css_option_over.background="#555";var drop_down=function(){options=select[0].options;if(options.length>0){divl.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)");divc.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)");diva.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)");divr.css("backgroundImage","url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)");options_div.empty().show();if(options.length>6){options_div.css({overflowY:"scroll",overflowX:"hidden",height:css_option.height*6})}var table=$("<table></table>").appendTo(options_div).css("borderCollapse","collapse");$.each(options,function(i,val){var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").attr({align:"left",value:val.value}).html(val.text).appendTo(tr).css(css_option).bind("mouseover",function(){$(this).css(css_option_over)}).bind("mouseout",function(){$(this).css(css_option)}).bind("mousedown",function(){select.attr("value",$(this).attr("value"));input_s.val($(this).html());if(select.change){select.change()}})});$(document).bind("mousedown",function(e){if(!$(e.target).is(".options_div")){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);diva.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage);options_div.hide();input_s.focus();$(document).unbind("mousedown")}})}};var div=$("<div></div>").appendTo(container).css({zIndex:5000,"float":"left",position:"relative",height:css_divs.height,cursor:"pointer"}).bind("click",drop_down);var divl=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"0px 0px"});var divc=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:opt.width-css_arrow.width-(css_divs.width*2)});var diva=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:css_arrow.width});var divr=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"right 0px"});var arrow=$("<div></div>").appendTo(diva).css(css_arrow);var table=$("<table></table>").appendTo(divc).css({height:"100%",width:opt.width-css_arrow.width-(css_divs.width*2)});var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").appendTo(tr);input_s.appendTo(td).css({cursor:"pointer",textAlign:opt.textAlign,width:opt.width-css_arrow.width-(css_divs.width*2)}).bind("blur",function(){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);diva.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage);options_div.hide()});var css_options_div={position:"absolute",background:"#555",width:opt.width,top:25,left:0,border:"1px solid #999",overflowX:"hidden",zIndex:5001};var options_div=$("<div></div>").addClass("options_div").appendTo(div).css(css_options_div).hide();if(options.length>0){input_s.val(options[0].text);select.val(options[0].value)}var div_disabled=$("<div></div>").hide().appendTo(div).css({position:"absolute",top:0,left:0,width:($.browser.msie&&$.browser.version=="6.0")?opt.width+4:opt.width,height:opt.height,background:"#ccc",opacity:0.7});this.enable=function(){div_disabled.hide();div.bind("click",drop_down)};this.disable=function(){div_disabled.show().css("cursor","default");div.unbind("click",drop_down)};this.setValue=function(v){select.attr("value",v);input_s.val(select[0].options[select[0].selectedIndex].text)};if(select.attr("disabled")){this.disable()}})};$.fn.inputBoxAmarillo=function(){return this.each(function(){var w=$(this).css("width");w=(/[0-9]*px/i.test(w))?parseInt(w):225;var opt={border:"none",background:"transparent",height:26,width:w,textAlign:"left"};if($(this).attr("opt")){$.extend(opt,eval("("+$(this).attr("opt")+")"))}var input=$(this).css({border:opt.border,background:opt.background});var container=input.parent();var css_divs={"float":"left",backgroundImage:"url("+appContext+"/framework/skins/mientel/img/i2bforms/bg_inputYellow.gif)",backgroundRepeat:"no-repeat",width:4,height:opt.height};var div=$("<div></div>").appendTo(container).css({"float":"left",position:"relative",height:css_divs.height});var divl=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"0px 0px"});var divc=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"-"+css_divs.width+"px 0px",width:opt.width-(css_divs.width*2)});var divr=$("<div></div>").appendTo(div).css(css_divs).css({backgroundPosition:"right 0px"});var table=$("<table></table>").appendTo(divc).css({height:"100%",width:opt.width-(css_divs.width*2)});var tr=$("<tr></tr>").appendTo(table);var td=$("<td></td>").appendTo(tr);input.appendTo(td).css({textAlign:opt.textAlign,width:opt.width-(css_divs.width*2)}).bind("blur",function(){divl.css("backgroundImage",css_divs.backgroundImage);divc.css("backgroundImage",css_divs.backgroundImage);divr.css("backgroundImage",css_divs.backgroundImage)}).val(this.value)})};